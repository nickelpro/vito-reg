vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_CMAKE_PATH
  REPO soasis/cmake
  REF 4277edaf7bf237de07c4a9833f6546872ab9f151
  SHA512 f05143068a1f22bd46aa0d8c250afb04b29ffbc0f32d746093bfb61f274d0e212ff9786a5163608097ed989b5b212d73811179f311a37d2b2eedce89cc75ee94
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_IDK_PATH
  REPO nickelpro/idk
  REF 4c80f5464b39c31b85cf1c5a4a5810d64d3a6e38
  SHA512 1d8911d947b110af336501e82ca6ff1ce58620f37fac1018982daa34fffe5274dad5cbb7f12f4c487e6df236a2c1245a9b46ee6b93a4fbb07966c2ec4455bf71
  HEAD_REF dev
)

vcpkg_from_github(
  OUT_SOURCE_PATH SOURCE_PATH
  REPO nickelpro/text
  REF 1476da4cfffc118fbdf4c0ea1efca58104119490
  SHA512 05139d096a841ec1b9f13b7b1a4a5205b50952abcd613a1e4a845f9ada226e7d15c0821c8fe14b2308d85c034ea7031f2f01aa11234f02aed008ac43abaf1f78
  HEAD_REF dev
)

vcpkg_cmake_configure(
  SOURCE_PATH ${SOURCE_PATH}
  OPTIONS
    -DFETCHCONTENT_FULLY_DISCONNECTED=ON
    -DFETCHCONTENT_SOURCE_DIR_ZTD.CMAKE=${ZTD_CMAKE_PATH}
    -DFETCHCONTENT_SOURCE_DIR_ZTD.IDK=${ZTD_IDK_PATH}
)
vcpkg_cmake_install()

file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug" "${CURRENT_PACKAGES_DIR}/bin" "${CURRENT_PACKAGES_DIR}/lib")

file(INSTALL "${CMAKE_CURRENT_LIST_DIR}/usage" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}")
file(INSTALL "${SOURCE_PATH}/LICENSE" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}" RENAME copyright)
